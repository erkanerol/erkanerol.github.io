<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us>
<head>
<link href=http://gmpg.org/xfn/11 rel=profile>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Abstract Factory Tasarım Şablonu &#183; Erkan Erol</title>
<link rel=stylesheet href=https://erkanerol.github.io/css/poole.css>
<link rel=stylesheet href=https://erkanerol.github.io/css/hyde.css>
<link rel=stylesheet href=https://erkanerol.github.io/css/poole-overrides.css>
<link rel=stylesheet href=https://erkanerol.github.io/css/hyde-overrides.css>
<link rel=stylesheet href=https://erkanerol.github.io/css/hyde-x.css>
<link rel=stylesheet href=https://erkanerol.github.io/css/highlight/monokai.css>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
<link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>
<link rel=apple-touch-icon-precomposed sizes=144x144 href=https://erkanerol.github.io/touch-icon-144-precomposed.png>
<link href=https://erkanerol.github.io/favicon.png rel=icon>
<meta name=description content="Erkan Erol's Blog">
<meta name=keywords content="Software,Design Patterns,Tasarım Şablonları,Abstract Factory Tasarım Şablonu">
<script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-57796113-2','auto'),ga('send','pageview')</script>
</head>
<body>
<div class=sidebar>
<div class="container sidebar-sticky">
<div class=sidebar-about>
<img src="https://www.gravatar.com/avatar/321108fd00753fd95baeddbc3abc8a76?s=200" alt=gravatar title="Erkan Erol">
<h1>Erkan Erol</h1>
</div>
<ul class=sidebar-nav>
<li class=sidebar-nav-item>
<a href=https://erkanerol.github.io/>
Blog</a>
</li>
<li class=sidebar-nav-item>
<a href=https://erkanerol.github.io/categories/tr/>Turkish</a>
</li>
<li class=sidebar-nav-item>
<a href=https://erkanerol.github.io/categories/en/>English</a>
</li>
</ul>
<ul class=sidebar-nav>
<li class=sidebar-nav-item>
<a href=https://github.com/erkanerol><i class="fa fa-github-square fa-2x"></i></a>
<a href=https://www.linkedin.com/in/erkan-erol-26488b91?><i class="fa fa-linkedin-square fa-2x"></i></a>
<a href=https://twitter.com/erkan_erol_><i class="fa fa-twitter-square fa-2x"></i></a>
<a href=https://erkanerol.github.io/index.xml type=application/rss+xml><i class="fa fa-rss-square fa-2x"></i></a>
</li>
</ul>
</div>
</div>
<div class="content container">
<div class=post>
<h1 class=post-title>Abstract Factory Tasarım Şablonu</h1>
<span class=post-date>Jun 9, 2016 &#183; <a href=https://erkanerol.github.io/post/abstract-factory-design-pattern/#disqus_thread>Comments</a>
<br>
<a class=label href=https://erkanerol.github.io/categories/software>Software</a><a class=label href=https://erkanerol.github.io/categories/design-patterns>Design Patterns</a><a class=label href=https://erkanerol.github.io/categories/tr>TR</a>
</span>
<h2 id=amaç>Amaç</h2>
<ul>
<li>Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz</li>
<li>Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.</li>
<li>new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz</li>
</ul>
<h2 id=sorun>Sorun</h2>
<p>Yazdığımız uygulamanın değişik platformlarda çalışmasını istediğimizde bu platformlara özgü farklılıklar sorun oluşturur ve nesne yaratımlarında bu farklılıkları ele almamız gerekir. Örneğin, windows işletim sistemindeki arayüz birleşenleri ile ubuntu işletim sistemindekler arasında ciddi farklar vardır ve biz her yeni birleşen oluşturma esnasında platformu kontrol etmek, ona göre farklı şekilde yaratmak istemeyiz. Bir arayüz tasarlamak ve bu ortak arayüz üzerinden bütün nesneleri yaratmak ve kullanmak isteriz. Platforma özgü sınıflar bu arayüzü destekleyecek şekilde kendi birleşenlerini oluşturacak işlevselliği sağlarlar.</p>
<h2 id=yöntem>Yöntem</h2>
<p>Bu tasarım şablonunda nesnelerin sınıflarını ve nesneleri üreten üretici sınıfları soyutlamamız gerekir. Bu nesneler kullanıcılar (clients) tarafından doğrudan oluşturulmayıp nesne üretici (fabrika) sınıflar vasıtası ile üretilirler.</p>
<h2 id=yapı>Yapı</h2>
<p>Abstract Factory her bir ürün için bir Factory Method (makeProductOne,makeProductTwo vb.) tanımlar. Her Factory Method new operatörünü ve platforma özgü ürün sınıflarını sarmalar. Her platform fabrika sınıflarıyla modellenir.</p>
<h2 id=örnek>Örnek</h2>
<p>Örneğimizde Ubuntu ve Windows platformları için UI birleşenleri üreten bir Abstract Factory şablonu oluşturalım. Bu örnekte platformlardan bağımsız bir şekilde pencere ve buton üreten bir yapı kuralım. Örneğin UML diagramı ve kodu aşağıda mevcuttur.</p>
<p>
Pencere arayüzü ve Windows+Ubuntu Platformları için ürün sınıfları
Abstract Factory ve Windows+Ubuntu Platformları için fabrika sınıfları
</p>
<h2 id=kod>Kod</h2>
<h2 id=kontrol-listesi>Kontrol Listesi</h2>
<ul>
<li>Platformdan bağımsızlık ve nesnelerin oluşturulması sorun oluşturuyor ise bu şablonu kullanın</li>
<li>Platform vs. nesne matrisi oluşturun</li>
<li>Her bir nesnenin yaratma metodlarını içeren bir fabrika arayüzü tanımlayın</li>
<li>Her bir platform için new operatörünü kapsülleyen fabrika sınıfları tanımlayın</li>
<li>Kullanıcı sınıflar (clients) bu nesneleri new operatörü ile oluşturmamalı ve fabrika sınıflarının arayüzlerini kullanmalı</li>
</ul>
<h2 id=genel-kabul-görmüş-kurallar>Genel Kabul Görmüş Kurallar</h2>
<ul>
<li>Zaman zaman aynı sorunu çözmek için farklı oluştucu tasarım şablonları kullanılabilir. Prototype veya Abstract Factory şablonlarından hangisi daha uygunsa o kullanılır. Diğer zamanlarda oluşturucu tasarım şablonları birbirlerinin tamamlayıcısıdırlar. Abstract Factory şablonunda nesne yaratmak için Prototype şablonu kullanılabilir. Builder şablonu hangi birleşenlerin yaratılacağına karar verme kısmında kullanılabilir. Abstract Factory, Builder ve Prototype şablonları kendi uygulamalarında (implementation) Singleton şablonunu kullanabilirler.</li>
<li>Abstract Factory, Builder ve Prototype şablonları ürün nesnelerini bilen ve yaratan, sistem içinde parametrik bir şekilde yaratılmasını sağlayan fabrika nesneleri tanımlarlar. Benzer gözükmekle beraber aralarında önemli farklar vardır. * Abstract Factory bir çok sınıfa ait nesne yaratan fabrika nesnelerine sahiptir. Builder şablonu karmışık bir ürünü, ilişkili karmaşık bir protokolü takip ederek oluşturan fabrika nesnesine sahiptir. Prototype şablonu ise prototip objeden kopyalarak yeni nesne yaratan fabrika nesnesine sahiptir.</li>
<li>Abstract Factory sınıfları genellikle Factory Methods kullanılarak uygulanır (implemented). Ancak Prototype kullanılarak da uygulanabilir.</li>
<li>Abstract Factory şablonu platforma özgü sınıfları gizlemek amacıyla Facade şablonuna alternatif olarak da kullanılabilir.</li>
<li>Builder şablonu karmaşık bir nesneyi adım adım oluşturmaya odaklanır. Abstract Factory şablonu ise benzer ürün ailelerin* i karmaşık veya basit farketmeksizin oluşturmak için kullanılır. Builder şablonu ürünü son adımda kullanıcıya teslim ederken Abstract Factory şablonu anında ürünü verir.</li>
<li>Tasarımlar genelde Factory Method (daha basit, daha özelleştilebilir) kullanılarak başlasa da tasarımcılar daha fazla esnekliğe* ihtiyaç duyduklarını farkettiklerinde tasarım zamanla Abstract Factory, Prototype veya Builder (daha esnek ve daha karmaşık) şablonlarına evrilir.</li>
</ul>
<h2 id=repo>Repo</h2>
<p><a href=https://github.com/erkanerol/design-patterns/tree/master/src/com/erkanerol/examples/abstractfactory>github</a></p>
<h2 id=kaynakça>Kaynakça</h2>
<ul>
<li><a href=https://sourcemaking.com>https://sourcemaking.com</a></li>
</ul>
<p><strong>Önemli Not 1:</strong> sourcemaking.com sitesinde About Us sayfasında &ldquo;We also welcome translation.&rdquo; ibaresi yer almaktadır. Bu yazının yazılmasında/çevrilmesinde herhangi bir ticari amaç bulunmamaktadır.</p>
<p><strong>Önemli Not 2:</strong> Yazıda gördüğünüz hataları bana bildirirseniz sevinirim.</p>
</div>
<div id=disqus_thread></div>
</div>
<script type=text/javascript>var disqus_shortname="erkanerol-github-io";(function(){var a=document.createElement('script');a.async=!0,a.type='text/javascript',a.src='//'+disqus_shortname+'.disqus.com/count.js',(document.getElementsByTagName('HEAD')[0]||document.getElementsByTagName('BODY')[0]).appendChild(a)})()</script>
<script type=text/javascript>var disqus_shortname="erkanerol-github-io";(function(){var a=document.createElement('script');a.type='text/javascript',a.async=!0,a.src='//'+disqus_shortname+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58713be9ad6e45ec"></script>
<script src=https://erkanerol.github.io/js/highlight.pack.js></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>