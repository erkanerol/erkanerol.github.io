<!doctype html><html class="not-ready text-sm lg:text-base" lang=en-en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<title>Abstract Factory Tasarım Şablonu - Blog</title>
<meta name=theme-color>
<meta name=description content="Amaç

Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz
Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.
new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz
">
<meta name=author content="Erkan Erol">
<link rel="preload stylesheet" as=style href=https://erkanerol.github.io/main.min.css>
<script defer src=https://erkanerol.github.io/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://erkanerol.github.io/theme.png>
<link rel=preload as=image href=https://www.gravatar.com/avatar/321108fd00753fd95baeddbc3abc8a76>
<link rel=preload as=image href=https://erkanerol.github.io/twitter.svg>
<link rel=preload as=image href=https://erkanerol.github.io/github.svg>
<link rel=preload as=image href=https://erkanerol.github.io/instagram.svg>
<link rel=preload as=image href=https://erkanerol.github.io/rss.svg>
<link rel=preload as=image href=https://erkanerol.github.io/linkedin.svg>
<link rel=icon href=https://erkanerol.github.io/favicon.ico>
<link rel=apple-touch-icon href=https://erkanerol.github.io/apple-touch-icon.png>
<meta name=generator content="Hugo 0.92.0">
<meta property="og:title" content="Abstract Factory Tasarım Şablonu">
<meta property="og:description" content="Amaç

Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz
Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.
new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://erkanerol.github.io/post/abstract-factory-design-pattern/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2016-06-09T00:00:00+02:00">
<meta property="article:modified_time" content="2016-06-09T00:00:00+02:00">
<meta itemprop=name content="Abstract Factory Tasarım Şablonu">
<meta itemprop=description content="Amaç

Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz
Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.
new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz
"><meta itemprop=datePublished content="2016-06-09T00:00:00+02:00">
<meta itemprop=dateModified content="2016-06-09T00:00:00+02:00">
<meta itemprop=wordCount content="859">
<meta itemprop=keywords content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Abstract Factory Tasarım Şablonu">
<meta name=twitter:description content="Amaç

Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz
Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.
new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz
">
<script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-57796113-2','auto'),ga('send','pageview')</script>
</head>
<body class="text-black duration-200 ease-out dark:text-white">
<header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center">
<div class="relative z-50 mr-auto flex items-center">
<a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://erkanerol.github.io/>Blog</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a>
</div>
<a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const metaTheme=document.querySelector('meta[name="theme-color"]'),htmlClass=document.documentElement.classList;setTimeout(()=>htmlClass.remove('not-ready'),10);const setDark=a=>{metaTheme.setAttribute('content',a?'#000':'#fbfbfb'),htmlClass[a?'add':'remove']('dark'),localStorage.setItem('dark',a)},darkScheme=window.matchMedia('(prefers-color-scheme: dark)'),darkVal=localStorage.getItem('dark');setDark(darkVal?darkVal==='true':darkScheme.matches),darkScheme.addEventListener('change',a=>{setDark(a.matches)});const btnDark=document.querySelector('.btn-dark');btnDark.addEventListener('click',()=>{setDark(localStorage.getItem('dark')!=='true')});const btnMenu=document.querySelector('.btn-menu');btnMenu.addEventListener('click',()=>{htmlClass.toggle('open')})</script>
<div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none">
<nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/categories/tr/>Turkish</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/categories/en/>English</a>
</nav>
<nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6">
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/erkan_erol_ target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/erkanerol target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/theerkanerol target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://erkanerol.github.io/index.xml target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./linkedin.svg) href=https://linkedin.com//in/erkanerol target=_blank></a>
</nav>
</div>
</header>
<main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert">
<article>
<header class=mb-20>
<h1 class="!my-0 pb-2.5">Abstract Factory Tasarım Şablonu</h1>
<div class="text-sm opacity-60">
<time>Jun 9, 2016</time>
<span class=mx-1>&#183;</span>
<span>Erkan Erol</span>
</div>
</header>
<section><h2 id=amaç>Amaç</h2>
<ul>
<li>Elimizde benzer ve ilişkili nesneler var ve bunları somut sınıflarını belirtmeden oluşturmak için bir arayüz istiyoruz</li>
<li>Platformlara özgü özellikleri ve nesnelerin platformlara göre farklılık gösteren yaratılışını sarmalamak (encapsulation) istiyoruz.</li>
<li>new operatörü ile yeni nesne yaratmanın sorunlu olduğunu düşünüyoruz</li>
</ul>
<h2 id=sorun>Sorun</h2>
<p>Yazdığımız uygulamanın değişik platformlarda çalışmasını istediğimizde bu platformlara özgü farklılıklar sorun oluşturur ve nesne yaratımlarında bu farklılıkları ele almamız gerekir. Örneğin, windows işletim sistemindeki arayüz birleşenleri ile ubuntu işletim sistemindekler arasında ciddi farklar vardır ve biz her yeni birleşen oluşturma esnasında platformu kontrol etmek, ona göre farklı şekilde yaratmak istemeyiz. Bir arayüz tasarlamak ve bu ortak arayüz üzerinden bütün nesneleri yaratmak ve kullanmak isteriz. Platforma özgü sınıflar bu arayüzü destekleyecek şekilde kendi birleşenlerini oluşturacak işlevselliği sağlarlar.</p>
<h2 id=yöntem>Yöntem</h2>
<p>Bu tasarım şablonunda nesnelerin sınıflarını ve nesneleri üreten üretici sınıfları soyutlamamız gerekir. Bu nesneler kullanıcılar (clients) tarafından doğrudan oluşturulmayıp nesne üretici (fabrika) sınıflar vasıtası ile üretilirler.</p>
<h2 id=yapı>Yapı</h2>
<p>Abstract Factory her bir ürün için bir Factory Method (makeProductOne,makeProductTwo vb.) tanımlar. Her Factory Method new operatörünü ve platforma özgü ürün sınıflarını sarmalar. Her platform fabrika sınıflarıyla modellenir.</p>
<p><img src=/img/Abstract_Factory-2x.png alt=Abstract_Factory></p>
<h2 id=örnek>Örnek</h2>
<p>Örneğimizde Ubuntu ve Windows platformları için UI birleşenleri üreten bir Abstract Factory şablonu oluşturalım. Bu örnekte platformlardan bağımsız bir şekilde pencere ve buton üreten bir yapı kuralım. Örneğin UML diagramı ve kodu aşağıda mevcuttur.</p>
<p><img src=/img/abstract-factory-design-patterns-button.png alt=abstract-factory-design-patterns-button>
Buton arayüzü ve Windows+Ubuntu Platformları için ürün sınıfları</p>
<p><br></br><br></br>
<img src=/img/abstract-factory-design-patterns-window.png alt=abstract-factory-design-patterns-window>
Pencere arayüzü ve Windows+Ubuntu Platformları için ürün sınıfları
<br></br><br></br>
<img src=/img/abstract-factory-design-patterns-factory.png alt=abstract-factory-design-patterns-factory>
Abstract Factory ve Windows+Ubuntu Platformları için fabrika sınıfları
<br></br><br></br></p>
<h2 id=kod>Kod</h2>
<pre><code>
public interface Button {
    public void click();
    public void setLabel(String label);
}
</code></pre>
<pre><code>
public interface Window {
    public void setHeader(String label);
    public void openWindow();
    public void closeWindow();
}
</code></pre>
<pre><code>
public interface AbstractUIFactory {
    public Button createButton();
    public Window createWindow();
}
</code></pre>
<pre><code>
public class UbuntuButton implements Button {

    @Override
    public void click() {
        System.out.println("UbuntuButton is  Clicked");
    }

    @Override
    public void setLabel(String label) {
        System.out.println("UbuntuButton label is set as "+label);
    }
}
</code></pre>
<pre><code>
public class UbuntuWindow implements Window {

    @Override
    public void setHeader(String label) {
        System.out.println("Ubuntu window header is set as "+label);
    }

    @Override
    public void openWindow() {
        System.out.println("Ubuntu window is opened");
    }

    @Override
    public void closeWindow() {
        System.out.println("Ubuntu window is closed");
    }
}
</code></pre>
<pre><code>
public class UbuntuUIFactory implements UIFactory {

    @Override
    public Button createButton() {
        return new UbuntuButton();
    }

    @Override
    public Window createWindow() {
        return new UbuntuWindow();
    }
}
</code></pre>
<pre><code>
public class WindowsButton implements Button {

    @Override
    public void click() {
        System.out.println("Windows Button is  Clicked");
    }

    @Override
    public void setLabel(String label) {
        System.out.println("WindowsButton Label is set as "+label);
    }
}
</code></pre>
<pre><code>
public class WindowsWindow implements Window {

    @Override
    public void setHeader(String label) {
        System.out.println("Windows window header is set as "+label);
    }

    @Override
    public void openWindow() {
        System.out.println("Windows window is opened");
    }

    @Override
    public void closeWindow() {
        System.out.println("Windows window is closed");
    }
}
</code></pre>
<pre><code>
public class WindowsUIFactory implements UIFactory {

    @Override
    public Button createButton() {
        return new WindowsButton();
    }

    @Override
    public Window createWindow() {
        return new WindowsWindow();
    }

}
</code></pre>
<pre><code>
public class Client {

    public static void main(String[] args) {

        /**
         *  buradan sonra abstractUiFactory üzerinden nesneleri olusturuyoruz.
         *  windows mu ubuntu mu umrumuzda değil.
         */
        AbstractUIFactory abstractUiFactory =  createUIFactoryAccordingToOS();

        doButtonOperations(abstractUiFactory);
        doWindowOperations(abstractUiFactory);
    }

    private static void doWindowOperations(AbstractUIFactory abstractUiFactory) {
        Window window = abstractUiFactory.createWindow();
        window.setHeader("Header of Window");
        window.openWindow();
        window.closeWindow();
    }

    private static void doButtonOperations(AbstractUIFactory abstractUiFactory) {
        Button button = abstractUiFactory.createButton();
        button.setLabel("Click me");
        button.click();
    }

    private static AbstractUIFactory createUIFactoryAccordingToOS() {
        if (System.getProperty("os.name").startsWith("Windows")) {
            return new WindowsUIFactory();
        } else {
            return new UbuntuUIFactory();
        }
    }
}
</code></pre>
<h2 id=kontrol-listesi>Kontrol Listesi</h2>
<ul>
<li>Platformdan bağımsızlık ve nesnelerin oluşturulması sorun oluşturuyor ise bu şablonu kullanın</li>
<li>Platform vs. nesne matrisi oluşturun</li>
<li>Her bir nesnenin yaratma metodlarını içeren bir fabrika arayüzü tanımlayın</li>
<li>Her bir platform için new operatörünü kapsülleyen fabrika sınıfları tanımlayın</li>
<li>Kullanıcı sınıflar (clients) bu nesneleri new operatörü ile oluşturmamalı ve fabrika sınıflarının arayüzlerini kullanmalı</li>
</ul>
<h2 id=genel-kabul-görmüş-kurallar>Genel Kabul Görmüş Kurallar</h2>
<ul>
<li>Zaman zaman aynı sorunu çözmek için farklı oluştucu tasarım şablonları kullanılabilir. Prototype veya Abstract Factory şablonlarından hangisi daha uygunsa o kullanılır. Diğer zamanlarda oluşturucu tasarım şablonları birbirlerinin tamamlayıcısıdırlar. Abstract Factory şablonunda nesne yaratmak için Prototype şablonu kullanılabilir. Builder şablonu hangi birleşenlerin yaratılacağına karar verme kısmında kullanılabilir. Abstract Factory, Builder ve Prototype şablonları kendi uygulamalarında (implementation) Singleton şablonunu kullanabilirler.</li>
<li>Abstract Factory, Builder ve Prototype şablonları ürün nesnelerini bilen ve yaratan, sistem içinde parametrik bir şekilde yaratılmasını sağlayan fabrika nesneleri tanımlarlar. Benzer gözükmekle beraber aralarında önemli farklar vardır. * Abstract Factory bir çok sınıfa ait nesne yaratan fabrika nesnelerine sahiptir. Builder şablonu karmışık bir ürünü, ilişkili karmaşık bir protokolü takip ederek oluşturan fabrika nesnesine sahiptir. Prototype şablonu ise prototip objeden kopyalarak yeni nesne yaratan fabrika nesnesine sahiptir.</li>
<li>Abstract Factory sınıfları genellikle Factory Methods kullanılarak uygulanır (implemented). Ancak Prototype kullanılarak da uygulanabilir.</li>
<li>Abstract Factory şablonu platforma özgü sınıfları gizlemek amacıyla Facade şablonuna alternatif olarak da kullanılabilir.</li>
<li>Builder şablonu karmaşık bir nesneyi adım adım oluşturmaya odaklanır. Abstract Factory şablonu ise benzer ürün ailelerin* i karmaşık veya basit farketmeksizin oluşturmak için kullanılır. Builder şablonu ürünü son adımda kullanıcıya teslim ederken Abstract Factory şablonu anında ürünü verir.</li>
<li>Tasarımlar genelde Factory Method (daha basit, daha özelleştilebilir) kullanılarak başlasa da tasarımcılar daha fazla esnekliğe* ihtiyaç duyduklarını farkettiklerinde tasarım zamanla Abstract Factory, Prototype veya Builder (daha esnek ve daha karmaşık) şablonlarına evrilir.</li>
</ul>
<h2 id=repo>Repo</h2>
<p><a href=https://github.com/erkanerol/design-patterns/tree/master/src/com/erkanerol/examples/abstractfactory>github</a></p>
<h2 id=kaynakça>Kaynakça</h2>
<ul>
<li><a href=https://sourcemaking.com>https://sourcemaking.com</a></li>
</ul>
<p><strong>Önemli Not 1:</strong> sourcemaking.com sitesinde About Us sayfasında &ldquo;We also welcome translation.&rdquo; ibaresi yer almaktadır. Bu yazının yazılmasında/çevrilmesinde herhangi bir ticari amaç bulunmamaktadır.</p>
<p><strong>Önemli Not 2:</strong> Yazıda gördüğünüz hataları bana bildirirseniz sevinirim.</p></section>
<nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
<a class="flex w-1/2 items-center p-6 pr-3 no-underline" href=https://erkanerol.github.io/post/cohesion-coupling/><span class=mr-1.5>←</span><span>Yazılım Bağlamında Cohesion ve Coupling Kavramları Üzerine</span></a>
<a class="ml-auto flex w-1/2 items-center justify-end p-6 pl-3 no-underline" href=https://erkanerol.github.io/post/dryprinciple/><span>Dry Prensibi</span><span class=ml-1.5>→</span></a>
</nav>
</article>
</main>
<footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60">
<div class=mr-auto>
&copy; 2022
<a class=link href=https://erkanerol.github.io/>Blog</a>
</div>
<a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a>
</footer>
</body>
</html>